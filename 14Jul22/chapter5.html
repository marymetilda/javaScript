<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
</body>
</html>

<script>

function repeat(n, action){
    for (let i = 0; i < n; i++){
        action(i);
    }
}

repeat(3, console.log);


let labels = [];
repeat(5, i => {
    labels.push(`Unit ${i + 1}`);
})

console.log(labels);

//    functions that create new functions

function greaterThan(n){
    return m => m > n;
}
let greaterThan10 = greaterThan(10);
console.log(greaterThan10(11));






    // function that changes function

    function noisy(f){
        return (...args) => {
            console.log("calling with", args);
            let result = f(...args);
            console.log("called with", args, ", returned", result);
            return result;
        };
    }
    noisy(Math.min)(3, 2, 1);



        // function that provide new types of control flow
        
        function unless(test, then){
            if (!test) then();
        }

        repeat(10, n => {
            unless(n % 2 == 1, () =>{
                console.log(n, "is even");
            });
        });


        ["A", "B"].forEach(l => console.log(l));


        function filter(array, test){
            let passed =[];
            for (let element of array){
                if (test(element)){
                    passed.push(element);
                }
            }
            return passed;
        }


        //   filters


    let cities = [
        {name: 'Los Angeles', population: 3792621},
        {name: 'New York', population:8175133},
        {name: 'Chicago', population: 2695598},
        {name: 'Houston', population: 2099451},
        {name: 'Philadelphia', population: 1526006}
    ];

    let bigCities = [];
    for (let i = 0; i < cities.length; i++){
        if (cities[i].population > 3000000){
            bigCities.push(cities[i]);
        }
    }

    console.log(bigCities);

    let bigCities1 = cities.filter(function (a){
        return a.population > 3000000;
    });
    console.log(bigCities1);
        
    
    
</script>